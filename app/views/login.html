<section id="login" ng-show="showLogin" style="height:100vh;"><!--devo settare mannualmente l'altezza di questo div in quanto lo script non lo vede-->
	<!--al termine di ogni action onclick bisogna inserire return false, che equivale a event.preventDefault. In questo modo quando
	faccio a href="#" non viene utilizzato il plugin scrollTop e-->
	<div id="loginbox" style="margin-top:10px;" class="mainbox col-md-6 col-md-offset-3 col-xs-12">                    
		<div class="panel panel-info" >
			<div class="panel-heading">
				<div class="panel-title">Accedi</div>
				<div style="float:right; font-size: 80%; position: relative; top:-10px"><a href="#">Password dimenticata?</a></div>
			</div>
			<div style="padding-top:30px" class="panel-body" >
				<div style="display:none" id="login-alert" class="alert alert-danger col-sm-12"></div>
				<form id="loginform" class="form-horizontal" role="form">
					<div style="margin-bottom: 25px" class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
						<input id="login-username" ng-model="username" type="text" class="form-control" placeholder="username">
					</div>
					<div style="margin-bottom: 25px" class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
						<input id="login-password" ng-model="password" type="password" class="form-control" placeholder="password">
					</div>
					<div class="input-group">
						<div class="checkbox">
							<label><input id="login-remember" type="checkbox" name="remember" value="1">Ricordami</label>
						</div>
					</div>
					<div style="margin-top:10px" class="form-group">
						<!-- Button -->
						<div class="col-sm-12 controls">
							<button class="btn btn-lg btn-success" ng-click='doAccedi();'>Login</button>
							<button class="btn btn-lg btn-primary">
								<span id="facebook_button_span_icon"></span>
								<span style="float:left;">Login con Facebook</span>
							</button>
						</div>
					</div>
					<div class="form-group">
						<div class="col-md-12 control">
							<div style="border-top: 1px solid#888; padding-top:15px; font-size:85%" >
								Non hai ancora un account? 
								<a href="#" onclick="$('#loginbox').hide(); $('#signupbox').show();return false;">
									Registrati qui!
								</a>
							</div>
						</div>
					</div>    
				</form>     
			</div>                     
		</div>  
	</div>
	<div id="signupbox" style="display:none; margin-top:10px;" class="mainbox col-md-6 col-md-offset-3 col-xs-12">
		<div class="panel panel-info">
			<div class="panel-heading">
				<div class="panel-title">Registrati</div>
				<div style="float:right; font-size: 85%; position: relative; top:-10px"><a id="signinlink" href="#" onclick="$('#signupbox').hide(); $('#loginbox').show(); return false;">Accedi</a></div>
			</div>  
			<div class="panel-body" >
				<div class="container">
					<div class="row">
						<div class="col-sm-10">
							<form name="userForm" ng-submit="register()" novalidate> <!--disabilito validazione html5-->
								<!-- NAME -->
								<div class="form-group row" ng-class="{ 'has-error' : userForm.nome.$invalid && !userForm.nome.$pristine }">
									<label class="col-sm-4 hidden-xs control-label">Nome</label>
									<div class="col-sm-6 col-xs-11">
										<input type="text" name="nome" class="form-control" ng-model="nome" required placeholder="Nome">
									</div>
								</div>
								<span ng-show="userForm.nome.$invalid && !userForm.nome.$pristine" class="help-inline">Campo obbligatorio</span>

								<div class="form-group row" ng-class="{ 'has-error' : userForm.cognome.$invalid && !userForm.cognome.$pristine }">
									<label class="col-sm-4 hidden-xs control-label">Cognome</label>
									<div class="col-sm-6 col-xs-11">
										<input type="text" name="cognome" class="form-control" ng-model="cognome" required placeholder="Cognome">
									</div>
								</div>
								<span ng-show="userForm.cognome.$invalid && !userForm.cognome.$pristine" class="help-inline">Campo obbligatorio</span>

								<!-- DATA DI NASCITA -->
								<div class="form-group row" ng-class="{ 'has-error' : userForm.datanascita.$invalid && !userForm.datanascita.$pristine }">
									<label class="col-sm-4 hidden-xs control-label">Data di Nascita</label>
									<div class="col-sm-6 col-xs-11">
										<input type="text" name="datanascita" class="form-control" datepicker="" ng-model="datanascita"  placeholder="Data di Nascita" ng-pattern="/^((\d{4})-(\d{2})-(\d{2}))$/">
									</div>
								</div>
								<span ng-show="userForm.datanascita.$error.pattern" class="help-block">La data di nascita deve essere nel formato YYYY-MM-GG</span>

								<!-- Codice Fiscale -->
								<div class="form-group row" ng-class="{ 'has-error' : userForm.codicefiscale.$invalid && !userForm.codicefiscale.$pristine }">
									<label class="col-sm-4 hidden-xs control-label">Codice Fiscale</label>
									<div class="col-sm-6 col-xs-11">
										<input type="text" name="codicefiscale" class="form-control" ng-model="codicefiscale" ng-pattern="/^[A-Z]{6}[A-Z0-9]{2}[A-Z][A-Z0-9]{2}[A-Z][A-Z0-9]{3}[A-Z]$/" placeholder="Codice Fiscale">
									</div>
								</div>
								<p ng-show="userForm.codicefiscale.$error.pattern" class="help-block">Il codice fiscale non è valido</p>

								<!-- Indirizzo Casa -->
								<div class="form-group row">
									<label class="col-sm-4 hidden-xs control-label">Indirizzo di Casa</label>
									<div class="col-sm-6 col-xs-11">
										<input type="text" name="indirizzocasa" class="form-control" ng-model="indirizzocasa" placeholder="Indirizzo di Casa">
									</div>
								</div>

								<!-- Citta -->
								<div class="form-group row" ng-class="{ 'has-error' : userForm.citta.$invalid && !userForm.citta.$pristine }">
									<label class="col-sm-4 hidden-xs control-label">Città</label>
									<div class="col-sm-6 col-xs-11">
										<input type="text" name="citta" class="form-control" ng-model="citta" required placeholder="Città">
									</div>
								</div>
								<p ng-show="userForm.citta.$invalid && !userForm.citta.$pristine" class="help-block">La città è obbligatoria e sarà utilizzata per cercare le ripetizioni disponibili più vicine a te</p>

								<!-- EMAIL -->
								<div class="form-group row" ng-class="{ 'has-error' : userForm.email.$invalid && !userForm.email.$pristine }">
									<label class="col-sm-4 hidden-xs control-label">Email</label>
									<div class="col-sm-6 col-xs-11">
										<input type="email" name="email" class="form-control" ng-model="email" required placeholder="Email">
									</div>
								</div>
								<p ng-show="userForm.email.$invalid && !userForm.email.$pristine" class="help-block">Inserisci una mail valida</p>

								<!-- USERNAME -->
								<div class="form-group row" ng-class="{ 'has-error' : userForm.username.$invalid && !userForm.username.$pristine }">
									<label class="col-sm-4 hidden-xs control-label">Username</label>
									<div class="col-sm-6 col-xs-11">
										<input type="text" name="username" class="form-control" ng-model="username" ng-minlength="6" placeholder="Username">
									</div>
								</div>
								<p ng-show="userForm.username.$error.minlength" class="help-block">Lo username deve essere almeno di 6 caratteri</p>

								<!-- PASSWORD -->
								<div class="form-group row" ng-class="{ 'has-error' : userForm.password.$invalid && !userForm.password.$pristine }">
									<label class="col-sm-4 hidden-xs control-label">Password</label>
									<div class="col-sm-6 col-xs-11">
										<input type="password" name="password" class="form-control" ng-model="password" placeholder="Password" ng-pattern="/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{4,8}$/"><!--per trovare altre espressioni regolari andare su http://regexlib.com/Search.aspx?k=password&AspxAutoDetectCookieSupport=1-->
									</div>
								</div>
								<p ng-show="userForm.password.$error.pattern" class="help-block">La password deve essere di almeno 4 caratteri, non più di 8 e deve includere almeno una lettera maiuscola, una minuscola e un numero</p>

								<div class="form-group row" ng-class="{ 'has-error' : userForm.passwordR.$invalid && !userForm.passwordR.$pristine }">
									<label class="col-sm-4 hidden-xs control-label"> Ripeti Password</label>
									<div class="col-sm-6 col-xs-11">
										<input type="password" name="passwordR" class="form-control" ng-model="passwordR" placeholder="Password" ng-pattern="/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{4,8}$/"><!--per trovare altre espressioni regolari andare su http://regexlib.com/Search.aspx?k=password&AspxAutoDetectCookieSupport=1-->
									</div>
								</div>
								<p ng-show="userForm.passwordR.$error.pattern" class="help-block">La password deve essere di almeno 4 caratteri, non più di 8 e deve includere almeno una lettera maiuscola, una minuscola e un numero</p>
								<p ng-show="passwordR!==password && password!=null && passwordR!=null" class="help-block">Le due password non coincidono</p>

								<input type="hidden" name="userType" value="" ng-model="userType" id="userType"/>
								<div class="btn-group" style="margin-bottom:20px">
									<button id="st_button" type="button" value="1" class="btn btn-default btn-lg" onclick="showStudente();" name="student_button">Studente</button>
									<button id="doc_button" type="button" value="2" class="btn btn-primary btn-lg" onclick="showDocente();" name="prof_button">Professore</button>
								</div>

								<script>
								var btns = ['st_button', 'doc_button'];
								var input = document.getElementById('userType');
								for(var i = 0; i < btns.length; i++) {
									document.getElementById(btns[i]).addEventListener('click', function() {
										input.value = this.value;
													//alert(input.value);
												});
								}
								</script>

								<div id="panel_studente" class="panel panel-info">
									<div class="panel-heading">
										<div class="panel-title">Studente</div>

									</div>  
									<div class="panel-body" >
										<div class="container">
											<div class="row">
												<label class="col-sm-12 control-label">Che scuola frequenti?</label>
											</div>
											<input type="hidden" name="option" value="" ng-model="scuola" id="scuola"/>
											<div class="btn-group" data-toggle="buttons-radio">  
												<button id="elementari" type="button" data-toggle="button" name="option" value="1" class="btn btn-lg btn-default">Elementari</button>
												<button id="medie" type="button" data-toggle="button" name="option" value="2" class="btn btn-lg  btn-info">Medie</button>
												<button id="superiori" type="button" data-toggle="button" name="option" value="3" class="btn btn-lg btn-primary">Superiori</button>
											</div>
											<p ng-show="userForm.scuola.$invalid && !userForm.scuola.$pristine" class="help-block">Il campo è obbligatorio</p>

											<script>
											var btns = ['elementari', 'medie','superiori'];
											var input = document.getElementById('scuola');
											for(var i = 0; i < btns.length; i++) {
												document.getElementById(btns[i]).addEventListener('click', function() {
													input.value = this.value;
													//alert(input.value);
												});
											}
											</script>
											
											<!-- Scuola Frequentata -->
											<div class="form-group row">
												<label class="col-sm-2 hidden-xs control-label">Nome scuola</label>
												<div class="col-sm-6 col-xs-11">
													<input type="text" name="nomeScuolaFrequentata" class="form-control" ng-model="nomeScuolaFrequentata" placeholder="Nome Scuola Frequentata">
												</div>
											</div>

											<!-- Indirizzo Scuola Frequentata -->
											<div class="form-group row">
												<label class="col-sm-2 hidden-xs control-label">Indirizzo scuola</label>
												<div class="col-sm-6 col-xs-11">
													<input type="text" name="nomeScuolaFrequentata" class="form-control" ng-model="indirizzoScuolaFrequentata" placeholder="Indirizzo Scuola Frequentata">
												</div>
											</div>
										</div><!-- end container -->
									</div>
								</div>

								<div id="panel_docente" class="panel panel-info" style="display:none;"> <!-- è inizialmente nascosto -->
									<div class="panel-heading">
										<div class="panel-title">Docente</div>

									</div>  
									<div class="panel-body" >
										<div class="container">
											<div class="row">
												<label class="col-sm-12 control-label">A quali studenti vorresti dare ripetizioni?</label>
											</div>
											<input type="hidden" name="option" value="" ng-model="scuola_dove_insegnare" id="scuola_dove_insegnare" required/>
											<div class="btn-group" data-toggle="buttons-radio">  
												<button id="insegnare_elementari" type="button" data-toggle="button" name="insegnare_elementari" value="1" class="btn btn-lg btn-default active">Elementari</button>
												<button id="insegnare_medie" type="button" data-toggle="button" name="insegnare_medie" value="2" class="btn btn-lg  btn-info">Medie</button>
												<button id="insegnare_superiori" type="button" data-toggle="button" name="insegnare_superiori" value="3" class="btn btn-lg btn-primary">Superiori</button>
											</div>
											<p ng-show="userType=='1' && userForm.scuola_dove_insegnare.$invalid && !userForm.scuola_dove_insegnare.$pristine" class="help-block">Il campo è obbligatorio</p>

											<script>
											var btns = ['insegnare_elementari', 'insegnare_medie','insegnare_superiori'];
											var input = document.getElementById('scuola_dove_insegnare');
											for(var i = 0; i < btns.length; i++) {
												document.getElementById(btns[i]).addEventListener('click', function() {
													input.value = this.value;
													//alert(input.value);
												});
											}
											</script>

											<!-- Indirizzo Scuola Dove insegni -->
											<div class="form-group row">
												<label class="col-sm-2 hidden-xs control-label">Indirizzo scuola<br/>dove insegni</label>
												<div class="col-sm-6 col-xs-11">
													<input type="text" name="indirizzoScuolaInsegna" class="form-control" ng-model="indirizzoScuolaInsegna" placeholder="Indirizzo Scuola dove insegni">
												</div>
											</div>

											<!-- Indirizzo Ufficio -->
											<div class="form-group row">
												<label class="col-sm-2 hidden-xs control-label">Indirizzo ufficio</label>
												<div class="col-sm-6 col-xs-11">
													<input type="text" name="indirizzoUfficio" class="form-control" ng-model="indirizzoUfficio" placeholder="Indirizzo Ufficio">
												</div>
											</div>

											<!-- Occupazione principale -->
											<div class="form-group row">
												<label class="col-sm-2 hidden-xs control-label">Occupazione principale</label>
												<div class="col-sm-6 col-xs-11">
													<input type="text" name="occupazione" class="form-control" ng-model="occupazione" placeholder="Occupazione principale">
												</div>
											</div>

										</div>
									</div>
								</div>

								<button type="submit" class="btn btn-primary" ng-disabled="userForm.$invalid">Invia</button>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>	
	</div> <!--end section-->
</section>